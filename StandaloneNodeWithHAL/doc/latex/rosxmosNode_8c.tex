\hypertarget{rosxmosNode_8c}{\section{src/rosxmos\-Node.c \-File \-Reference}
\label{rosxmosNode_8c}\index{src/rosxmos\-Node.\-c@{src/rosxmos\-Node.\-c}}
}
{\ttfamily \#include \char`\"{}rosxmos\-Node.\-h\char`\"{}}\*
\-Include dependency graph for rosxmos\-Node.\-c\-:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=266pt]{rosxmosNode_8c__incl}
\end{center}
\end{figure}
\subsection*{\-Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{rosxmosNode_8c_aaab687c67d3280c66871a1d5621f1804}{str2buf} (unsigned int $\ast$index, char $\ast$buffer, char $\ast$str, char mode)
\item 
void \hyperlink{rosxmosNode_8c_a86ed96f61050d51f5e134a9c01245244}{generate\-Header} (char $\ast$message\-\_\-buffer, \hyperlink{rosxmosNode_8h_ab5699e57c5a0cfcb1fe4498e51106032}{http\-\_\-head\-\_\-gen\-\_\-command} $\ast$gen\-\_\-array, char $\ast$$\ast$custom\-\_\-string\-\_\-array, unsigned int $\ast$buf\-\_\-index)
\item 
char \hyperlink{rosxmosNode_8c_a92f3ec0a105cfbc76c8c62c1141fdb94}{generate\-X\-M\-L} (char $\ast$message\-\_\-buffer, \hyperlink{rosxmosNode_8h_a652789c3083837748e20bf43b8deef2d}{ros\-\_\-rpc\-\_\-gen\-\_\-command} $\ast$gen\-\_\-array, char $\ast$$\ast$custom\-\_\-string\-\_\-array, unsigned int $\ast$gen\-\_\-index, unsigned int $\ast$buf\-\_\-index)
\end{DoxyCompactItemize}
\subsection*{\-Variables}
\begin{DoxyCompactItemize}
\item 
char $\ast$ \hyperlink{rosxmosNode_8c_a188da5b7ac6aa75139951cf4b682a6c7}{ros\-\_\-rpc\-\_\-tag\-\_\-strings} \mbox{[}15\mbox{]}
\item 
char $\ast$ \hyperlink{rosxmosNode_8c_acc4fde30490b0b1b277a567f54e7d194}{ros\-\_\-rpc\-\_\-stdtext} \mbox{[}20\mbox{]}
\item 
char $\ast$ \hyperlink{rosxmosNode_8c_a39234e5e50de26dedf307c79b5f68c23}{http\-\_\-header\-\_\-descriptors} \mbox{[}18\mbox{]}
\item 
char $\ast$ \hyperlink{rosxmosNode_8c_a50e78bbff7be4bace3ef078654416892}{http\-\_\-header\-\_\-stdtext} \mbox{[}22\mbox{]}
\end{DoxyCompactItemize}


\subsection{\-Function \-Documentation}
\hypertarget{rosxmosNode_8c_a86ed96f61050d51f5e134a9c01245244}{\index{rosxmos\-Node.\-c@{rosxmos\-Node.\-c}!generate\-Header@{generate\-Header}}
\index{generate\-Header@{generate\-Header}!rosxmosNode.c@{rosxmos\-Node.\-c}}
\subsubsection[{generate\-Header}]{\setlength{\rightskip}{0pt plus 5cm}void {\bf generate\-Header} (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{message\-\_\-buffer, }
\item[{{\bf http\-\_\-head\-\_\-gen\-\_\-command} $\ast$}]{gen\-\_\-array, }
\item[{char $\ast$$\ast$}]{custom\-\_\-string\-\_\-array, }
\item[{unsigned int $\ast$}]{buf\-\_\-index}
\end{DoxyParamCaption}
)}}\label{rosxmosNode_8c_a86ed96f61050d51f5e134a9c01245244}
\-This function can be used to generate headers for a \-H\-T\-T\-P message. 
\begin{DoxyParams}[1]{\-Parameters}
\mbox{\tt out}  & {\em message\-\_\-buffer} & \-The output buffer for the message \\
\hline
\mbox{\tt in}  & {\em gen\-\_\-array} & \-The command array for generating messages. \\
\hline
\mbox{\tt in}  & {\em custom\-\_\-string\-\_\-array} & \-The array for custom strings \\
\hline
 & {\em buf\-\_\-index} & \-The index for the output buffer \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{\-Returns}
\-Message length 
\end{DoxyReturn}


\-Definition at line 124 of file rosxmos\-Node.\-c.



\-References \-H\-T\-T\-P\-\_\-\-H\-E\-A\-D\-E\-R\-\_\-\-D\-E\-S\-C\-\_\-\-B\-E\-G\-I\-N, http\-\_\-header\-\_\-descriptors, \-H\-T\-T\-P\-\_\-\-H\-E\-A\-D\-E\-R\-\_\-\-G\-E\-N\-\_\-\-D\-E\-S\-C\-\_\-\-C\-U\-S\-T\-O\-M, \-H\-T\-T\-P\-\_\-\-H\-E\-A\-D\-E\-R\-\_\-\-G\-E\-N\-\_\-\-E\-N\-D, \-H\-T\-T\-P\-\_\-\-H\-E\-A\-D\-E\-R\-\_\-\-G\-E\-N\-\_\-\-V\-A\-L\-\_\-\-C\-U\-S\-T\-O\-M, http\-\_\-header\-\_\-stdtext, \-H\-T\-T\-P\-\_\-\-H\-E\-A\-D\-E\-R\-\_\-\-V\-A\-L\-U\-E\-\_\-\-B\-E\-G\-I\-N, \-S2\-B\-\_\-\-H\-T\-T\-P\-\_\-\-H\-E\-A\-D\-\_\-\-F\-I\-E\-L\-D, \-S2\-B\-\_\-\-H\-T\-T\-P\-\_\-\-H\-E\-A\-D\-\_\-\-F\-I\-E\-L\-D\-\_\-\-D\-E\-S\-C, and str2buf().



\-Referenced by main().



\-Here is the call graph for this function\-:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=250pt]{rosxmosNode_8c_a86ed96f61050d51f5e134a9c01245244_cgraph}
\end{center}
\end{figure}


\hypertarget{rosxmosNode_8c_a92f3ec0a105cfbc76c8c62c1141fdb94}{\index{rosxmos\-Node.\-c@{rosxmos\-Node.\-c}!generate\-X\-M\-L@{generate\-X\-M\-L}}
\index{generate\-X\-M\-L@{generate\-X\-M\-L}!rosxmosNode.c@{rosxmos\-Node.\-c}}
\subsubsection[{generate\-X\-M\-L}]{\setlength{\rightskip}{0pt plus 5cm}char {\bf generate\-X\-M\-L} (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{message\-\_\-buffer, }
\item[{{\bf ros\-\_\-rpc\-\_\-gen\-\_\-command} $\ast$}]{gen\-\_\-array, }
\item[{char $\ast$$\ast$}]{custom\-\_\-string\-\_\-array, }
\item[{unsigned int $\ast$}]{gen\-\_\-index, }
\item[{unsigned int $\ast$}]{buf\-\_\-index}
\end{DoxyParamCaption}
)}}\label{rosxmosNode_8c_a92f3ec0a105cfbc76c8c62c1141fdb94}
\-This function generates a xmlrpc message 
\begin{DoxyParams}[1]{\-Parameters}
\mbox{\tt out}  & {\em message\-\_\-buffer} & \-The output buffer for the message \\
\hline
\mbox{\tt in}  & {\em gen\-\_\-array} & \-The command array for generating messages. \\
\hline
\mbox{\tt in}  & {\em custom\-\_\-string\-\_\-array} & \-The array for custom strings (topics, params etc.) \\
\hline
 & {\em gen\-\_\-index} & \-The index for the gen\-\_\-array, set to 0 at start, increased by each call of generate\-\_\-\-X\-M\-L \\
\hline
 & {\em buf\-\_\-index} & \-The index for the output buffer \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{\-Returns}
\-Message length 
\end{DoxyReturn}


\-Definition at line 149 of file rosxmos\-Node.\-c.



\-References \-G\-E\-N\-\_\-\-E\-R\-R\-O\-R, \-G\-E\-N\-\_\-\-L\-E\-V\-E\-L\-\_\-\-U\-P, \-G\-E\-N\-\_\-\-R\-E\-T\-U\-R\-N\-\_\-\-G\-O\-\_\-\-A\-H\-E\-A\-D, \-G\-E\-N\-\_\-\-S\-T\-O\-P, generate\-X\-M\-L(), ros\-\_\-rpc\-\_\-stdtext, ros\-\_\-rpc\-\_\-tag\-\_\-strings, \-R\-P\-C\-\_\-\-C\-L\-O\-S\-E\-\_\-\-T\-A\-G, \-R\-P\-C\-\_\-\-C\-U\-S\-T\-O\-M\-\_\-\-T\-A\-G, \-R\-P\-C\-\_\-\-C\-U\-S\-T\-O\-M\-\_\-\-T\-E\-X\-T, \-R\-P\-C\-\_\-\-G\-E\-N\-E\-R\-A\-T\-O\-R\-\_\-\-F\-I\-N\-I\-S\-H, \-R\-P\-C\-\_\-\-S\-T\-D\-T\-E\-X\-T\-\_\-\-S\-T\-A\-R\-T, \-R\-P\-C\-\_\-\-T\-A\-G\-\_\-\-S\-T\-A\-R\-T, \-R\-P\-C\-\_\-\-X\-M\-L\-\_\-\-D\-E\-C\-L\-A\-R\-A\-T\-I\-O\-N, \-S2\-B\-\_\-\-C\-T\-A\-G, \-S2\-B\-\_\-\-N\-O\-R\-M\-A\-L, \-S2\-B\-\_\-\-T\-A\-G, and str2buf().



\-Referenced by generate\-X\-M\-L().



\-Here is the call graph for this function\-:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=238pt]{rosxmosNode_8c_a92f3ec0a105cfbc76c8c62c1141fdb94_cgraph}
\end{center}
\end{figure}


\hypertarget{rosxmosNode_8c_aaab687c67d3280c66871a1d5621f1804}{\index{rosxmos\-Node.\-c@{rosxmos\-Node.\-c}!str2buf@{str2buf}}
\index{str2buf@{str2buf}!rosxmosNode.c@{rosxmos\-Node.\-c}}
\subsubsection[{str2buf}]{\setlength{\rightskip}{0pt plus 5cm}void {\bf str2buf} (
\begin{DoxyParamCaption}
\item[{unsigned int $\ast$}]{index, }
\item[{char $\ast$}]{buffer, }
\item[{char $\ast$}]{str, }
\item[{char}]{mode}
\end{DoxyParamCaption}
)}}\label{rosxmosNode_8c_aaab687c67d3280c66871a1d5621f1804}
\-This function copies a string into a buffer. \-The starting point inside the string is given with the index pointer, which is also increased. \-This is used to be able to add multiple strings behind each other in the same buffer. {\bfseries \-Be sure your buffer is big enough, there are no checks for the buffer size for increasing performance!}


\begin{DoxyParams}{\-Parameters}
{\em index} & \-The current index \\
\hline
{\em buffer} & \-The buffer to write the string to. \\
\hline
{\em str} & \-The {\bfseries terminated} string to write into the buffer \\
\hline
{\em mode} & \-This specifies the mode, see str2buf\-\_\-modes enum \\
\hline
\end{DoxyParams}


\-Definition at line 73 of file rosxmos\-Node.\-c.



\-References \-S2\-B\-\_\-\-C\-T\-A\-G, \-S2\-B\-\_\-\-H\-T\-T\-P\-\_\-\-H\-E\-A\-D\-\_\-\-F\-I\-E\-L\-D, \-S2\-B\-\_\-\-H\-T\-T\-P\-\_\-\-H\-E\-A\-D\-\_\-\-F\-I\-E\-L\-D\-\_\-\-D\-E\-S\-C, and \-S2\-B\-\_\-\-T\-A\-G.



\-Referenced by generate\-Header(), and generate\-X\-M\-L().



\subsection{\-Variable \-Documentation}
\hypertarget{rosxmosNode_8c_a39234e5e50de26dedf307c79b5f68c23}{\index{rosxmos\-Node.\-c@{rosxmos\-Node.\-c}!http\-\_\-header\-\_\-descriptors@{http\-\_\-header\-\_\-descriptors}}
\index{http\-\_\-header\-\_\-descriptors@{http\-\_\-header\-\_\-descriptors}!rosxmosNode.c@{rosxmos\-Node.\-c}}
\subsubsection[{http\-\_\-header\-\_\-descriptors}]{\setlength{\rightskip}{0pt plus 5cm}char$\ast$ {\bf http\-\_\-header\-\_\-descriptors}\mbox{[}18\mbox{]}}}\label{rosxmosNode_8c_a39234e5e50de26dedf307c79b5f68c23}
{\bfseries \-Initial value\-:}
\begin{DoxyCode}

{
                "Server",
                "User-Agent",
                "Date",
                "Host",
                "Content-Type",
                "Content-length",
                "Accepted-Encoding"
}
\end{DoxyCode}
\-This array contains the strings for standard fields in the message headers \-Note to editors\-: \-If you add something here make sure its also available (in the {\bfseries \-S\-A\-M\-E \-O\-R\-D\-E\-R}) in the http\-\_\-head\-\_\-gen\-\_\-command enum command block (for numbers$>$=\-H\-T\-T\-P\-\_\-\-H\-E\-A\-D\-E\-R\-\_\-\-D\-E\-S\-C\-\_\-\-B\-E\-G\-I\-N) 

\-Definition at line 44 of file rosxmos\-Node.\-c.



\-Referenced by generate\-Header().

\hypertarget{rosxmosNode_8c_a50e78bbff7be4bace3ef078654416892}{\index{rosxmos\-Node.\-c@{rosxmos\-Node.\-c}!http\-\_\-header\-\_\-stdtext@{http\-\_\-header\-\_\-stdtext}}
\index{http\-\_\-header\-\_\-stdtext@{http\-\_\-header\-\_\-stdtext}!rosxmosNode.c@{rosxmos\-Node.\-c}}
\subsubsection[{http\-\_\-header\-\_\-stdtext}]{\setlength{\rightskip}{0pt plus 5cm}char$\ast$ {\bf http\-\_\-header\-\_\-stdtext}\mbox{[}22\mbox{]}}}\label{rosxmosNode_8c_a50e78bbff7be4bace3ef078654416892}
{\bfseries \-Initial value\-:}
\begin{DoxyCode}

{
                "POST / HTTP/1.1",
                "XMLRPC ROSc-NodeLib",
                "BaseHTTP/ROSc-NodeLib",
                "text/xml",
                "HTTP/1.0",
                "OK"
}
\end{DoxyCode}
\-This array contains the standard value strings for generating message headers \-Note to editors\-: \-If you add something here make sure its also available (in the {\bfseries \-S\-A\-M\-E \-O\-R\-D\-E\-R}) in the http\-\_\-head\-\_\-gen\-\_\-command enum command block (for numbers$>$=\-H\-T\-T\-P\-\_\-\-H\-E\-A\-D\-E\-R\-\_\-\-V\-A\-L\-U\-E\-\_\-\-B\-E\-G\-I\-N) 

\-Definition at line 60 of file rosxmos\-Node.\-c.



\-Referenced by generate\-Header().

\hypertarget{rosxmosNode_8c_acc4fde30490b0b1b277a567f54e7d194}{\index{rosxmos\-Node.\-c@{rosxmos\-Node.\-c}!ros\-\_\-rpc\-\_\-stdtext@{ros\-\_\-rpc\-\_\-stdtext}}
\index{ros\-\_\-rpc\-\_\-stdtext@{ros\-\_\-rpc\-\_\-stdtext}!rosxmosNode.c@{rosxmos\-Node.\-c}}
\subsubsection[{ros\-\_\-rpc\-\_\-stdtext}]{\setlength{\rightskip}{0pt plus 5cm}char$\ast$ {\bf ros\-\_\-rpc\-\_\-stdtext}\mbox{[}20\mbox{]}}}\label{rosxmosNode_8c_acc4fde30490b0b1b277a567f54e7d194}
{\bfseries \-Initial value\-:}
\begin{DoxyCode}

{
        "hasParam",
        "registerPublisher",
        "registerSubscriber",
        "requestTopic",
        "tcp_keepalive",
        "unregisterPublisher",
        "unregisterSubscriber"
}
\end{DoxyCode}
\-This array contains the strings for standard tags. \-Note to editors\-: \-If you add something here make sure its also available (in the {\bfseries \-S\-A\-M\-E \-O\-R\-D\-E\-R}) in the ros\-\_\-rpc\-\_\-gen\-\_\-command enum command block (for numbers$>$4000) (make it alphabetically ordered, maybe necessary!) 

\-Definition at line 28 of file rosxmos\-Node.\-c.



\-Referenced by generate\-X\-M\-L().

\hypertarget{rosxmosNode_8c_a188da5b7ac6aa75139951cf4b682a6c7}{\index{rosxmos\-Node.\-c@{rosxmos\-Node.\-c}!ros\-\_\-rpc\-\_\-tag\-\_\-strings@{ros\-\_\-rpc\-\_\-tag\-\_\-strings}}
\index{ros\-\_\-rpc\-\_\-tag\-\_\-strings@{ros\-\_\-rpc\-\_\-tag\-\_\-strings}!rosxmosNode.c@{rosxmos\-Node.\-c}}
\subsubsection[{ros\-\_\-rpc\-\_\-tag\-\_\-strings}]{\setlength{\rightskip}{0pt plus 5cm}char$\ast$ {\bf ros\-\_\-rpc\-\_\-tag\-\_\-strings}\mbox{[}15\mbox{]}}}\label{rosxmosNode_8c_a188da5b7ac6aa75139951cf4b682a6c7}
{\bfseries \-Initial value\-:}
\begin{DoxyCode}
 
{
        "array",
        "boolean",
        "data",
        "int",
        "methodcall",
        "methodname",
        "methodresponse",
        "param",
        "params",
        "string",
        "value"
}
\end{DoxyCode}
\-This array contains the strings for standard tags. \-Note to editors\-: \-If you add something here make sure its also available (in the {\bfseries \-S\-A\-M\-E \-O\-R\-D\-E\-R}) in the ros\-\_\-rpc\-\_\-gen\-\_\-command enum command block (for numbers$>$2000) (make it alphabetically ordered, maybe necessary!) 

\-Definition at line 8 of file rosxmos\-Node.\-c.



\-Referenced by generate\-X\-M\-L().

